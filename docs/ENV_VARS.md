## Environment Variables â€“ Reference and Usage

This document describes all environment variables referenced by the repository, with code locations and notes on which environment(s) require them.

Security: Do not commit secrets. Add `env/` to `.gitignore` and restrict permissions: `chmod 600 env/.env.*`.

### EVM / Frontend / Relayer

- NEXT_PUBLIC_TOKEN_ADDRESS
  - Usage: prefill token address in UI.
  - Code: `components/Checkout.js:6`, `docs/DEPLOYMENT.md`
  - Env: Localhost (required after deploy), Sepolia (required after deploy)

- NEXT_PUBLIC_GASLESS_ADDRESS
  - Usage: prefill GaslessTokenTransfer address in UI.
  - Code: `components/Checkout.js:7`, `docs/DEPLOYMENT.md`
  - Env: Localhost (required after deploy), Sepolia (required after deploy)

- NEXT_PUBLIC_RELAYER_API_KEY
  - Usage: optional header included by frontend when posting to API.
  - Code: `components/Checkout.js:112`
  - Env: Localhost/Sepolia (optional)

- RELAYER_API_KEY
  - Usage: server-side check for `x-relayer-key` header.
  - Code: `pages/api/relay.js:10-15`
  - Env: Localhost/Sepolia (optional but recommended)

- RELAYER_PRIVATE_KEY
  - Usage: Next.js API route wallet to send on-chain tx as relayer.
  - Code: `pages/api/relay.js:19-21`
  - Env: Localhost/Sepolia (required)

- LOCAL_RPC
  - Usage: RPC URL fallback for localhost.
  - Code: `pages/api/relay.js:18`, `hardhat.config.js:19`
  - Env: Localhost (required)

- TESTNET_RPC / SEPOLIA_RPC
  - Usage: RPC URL for testnet (Sepolia); relayer and Hardhat networks.
  - Code: `pages/api/relay.js:18`, `hardhat.config.js:22`
  - Env: Sepolia (required: one of SEPOLIA_RPC or TESTNET_RPC)

- AMOY_RPC
  - Usage: example Polygon Amoy in Hardhat networks.
  - Code: `hardhat.config.js:26`
  - Env: Not required for current deployments

- PRIVATE_KEY
  - Usage: Hardhat deployer account (network accounts array).
  - Code: `hardhat.config.js:23,27`, used during `npx hardhat run scripts/deploy.js`
  - Env: Sepolia (required)

- TOKEN_ADDRESS / GASLESS_ADDRESS
  - Usage: Script parameters for signing/relaying.
  - Code: `scripts/signPermit.js:8-11`, `scripts/relayerSend.js:23-24`, `scripts/mintTo.js:6`
  - Env: Localhost/Sepolia (optional; usually populated after deploy)

- SENDER / RECEIVER / TO
  - Usage: Script defaults for signing and transfers.
  - Code: `scripts/signPermit.js:16-20`, `scripts/relayerSend.js:25-26`, `scripts/mintTo.js:7`
  - Env: Localhost/Sepolia (optional)

- AMOUNT / FEE / DEADLINE / V / R / S
  - Usage: Scripted permit signing and relaying.
  - Code: `scripts/signPermit.js:19-26`, `scripts/relayerSend.js:27-33`
  - Env: Localhost/Sepolia (optional; typically generated by `signPermit.js`)

- ADDRS
  - Usage: Balance check helper.
  - Code: `scripts/checkBalances.js:9`
  - Env: Localhost/Sepolia (optional)

- DEPLOYER
  - Usage: Default deployer address for `deploy_all.js` (optional fallback).
  - Code: `scripts/deploy_all.js:43`
  - Env: Not required

### Solana / Anchor

- SOLANA_PROGRAM_ID
  - Usage: Optional for `deploy_all.js` aggregation.
  - Code: `scripts/deploy_all.js:84-86`
  - Env: Solana Devnet (optional)

- RELAYER_KEYPAIR
  - Usage: Path to keypair used by `client/solana/relayer_send.ts`.
  - Code: `client/solana/relayer_send.ts:7,19`
  - Env: Solana Devnet (optional; defaults to `~/.config/solana/id.json`)

- HOME
  - Usage: To expand `~` in RELAYER_KEYPAIR path.
  - Code: `client/solana/relayer_send.ts:19`
  - Env: Provided by shell, no need to set

- Anchor provider (configured via Anchor.toml)
  - ANCHOR_WALLET / ANCHOR_PROVIDER_URL (optional overrides)
  - Default path: `~/.config/solana/id.json`, cluster `devnet`

### Suggested aliases (not used directly by code)

- ETHEREUM_RPC_URL
  - Alias for SEPOLIA_RPC/TESTNET_RPC. Not read in code; include for clarity.
- PORT, ETHERSCAN_API_KEY, MNEMONIC, DATABASE_URL
  - Not used by current code; include as optional placeholders if your setup needs them.

### Loader

Use the helper to load any env file into the current shell:

```bash
source scripts/load_env.sh env/.env.localhost
```



